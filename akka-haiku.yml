name: agentic-haiku
service:
  volumeMounts:
  - mountPath: /google-application-credentials-path
    secret:
      secretName: google-application-credentials
  telemetry:
    tracing:
      enabled: true
  env:
  - name: GOOGLE_AI_GEMINI_API_KEY
    valueFrom:
      secretKeyRef:
        name: google-gemini
        key: api-key
  - name: GOOGLE_APPLICATION_CREDENTIALS
    value: /google-application-credentials-path/credentials.json
  - name: HAIKU_APP_URL
    value: https://dry-haze-9885.gcp-us-east1.akka.services
  - name: BSKY_USER
    valueFrom:
      secretKeyRef:
        name: bluesky
        key: username
  - name: BSKY_PASSWORD
    valueFrom:
      secretKeyRef:
        name: bluesky
        key: pwd
  image: kcr.us-east-1.kalix.io/lightbend-eng/devoxx-be/akka-haiku:1.0-SNAPSHOT-20251002162234
  resources:
    runtime:
      mode: embedded
    autoscaling:
      maxInstances: 1